{"version":3,"sources":["webpack:///webpack/bootstrap 5add6eae253a6d718f64","webpack:///./src/js/index.js","webpack:///./src/js/controller.js","webpack:///./src/js/model.js","webpack:///./src/js/view.js","webpack:///./src/js/helpers.js","webpack:///./src/js/observer.js"],"names":["window","addEventListener","observer","model","view","controller","init","Controller","_model","_view","_observer","message","console","log","attachHandler","showMessage","Model","View","root","qs","body","statistic","shuffleButton","pageElements","_cacheTheDom","callTrigger","_bindEvents","_h","selector","scope","document","querySelector","qsa","querySelectorAll","cdf","createDocumentFragment","ce","createElement","nodeString","_2dSwap","array","a","b","Observer","owner","triggerName","handler","_handlers","push","args","callback","i","end","length","apply","_nandlers","concat"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5add6eae253a6d718f64","/*window.addEventListener('DOMContentLoaded', function () {\r\n  let model = new game.Model(),\r\n    view = new game.View(),\r\n    controller = new game.Controller(model, view);\r\n\r\n  controller.init();\r\n}, false);*/\r\nimport Controller from './controller';\r\nimport Model from './model';\r\nimport View from './view';\r\nimport Observer from './observer';\r\n\r\nwindow.addEventListener('load', () => {\r\n  let observer = new Observer();\r\n  let model = new Model();\r\n  let view = new View(observer);\r\n  let controller = new Controller(observer, model, view);\r\n\r\n  controller.init();\r\n}, false);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","export default class Controller {\r\n  constructor(observer, model, view) {\r\n    this._model = model;\r\n    this._view = view;\r\n    this._observer = observer;\r\n  }\r\n\r\n  showMessage(message) {\r\n    console.log(message); \r\n  } \r\n\r\n  init() {\r\n    this._model.init(); \r\n    this._view.init();\r\n    this._observer.attachHandler(this, 'shuffleButtonPressed', this.showMessage);\r\n  }\r\n}\r\n/*(function (window) {\r\n  function Controller(model, view) {\r\n    this._model = model;\r\n    this._view = view;\r\n  }\r\n  \r\n  Controller.prototype.init = function () {\r\n    var self = this;\r\n\r\n    self._model.init();\r\n    self._view.init();\r\n    self._view.renderItems( self._model.items() );\r\n    self._view.renderStatistic( self._model.count() );\r\n    self._registerHandlers();\r\n  };\r\n  \r\n  Controller.prototype._registerHandlers = function () {\r\n    let self = this;\r\n\r\n    Observer.attachHandler(null, 'arrowKeyPressed', function (direction) {\r\n      self._model.makeMove(direction);\r\n    });\r\n\r\n    Observer.attachHandler(null, 'itemsSwapped', function (previousPosition, currentPosition) {\r\n      self._view.moveBlock(previousPosition, currentPosition);\r\n      self._view.renderStatistic( self._model.count() );\r\n    });\r\n\r\n    Observer.attachHandler(null, 'shuffleButtonPressed', function (movesArray) {\r\n      self._model.shufflePuzzleDeck(movesArray);\r\n      self._view.renderItems( self._model.items() );\r\n      self._view.renderStatistic( self._model.count() );\r\n    });\r\n  };\r\n\r\n  window.game = window.game || {};\r\n  window.game.Controller = Controller;\r\n})(window);*/\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller.js","export default class Model {\r\n  constructor() {}\r\n\r\n  init() {\r\n    console.log('hello I\\'m Model'); \r\n  }\r\n}\r\n\r\n\r\n/*(function (window) {\r\n\r\n  function Model() {\r\n    this._matrixSize = null;\r\n    this._items = []; \r\n    this._possibleMoves = { left: [], up: [], right: [], down: [] };\r\n    this._targetItemPosition = [];\r\n    this._movesCount = 0;\r\n  }\r\n\r\n  Model.prototype.matrixSize = function (value) {\r\n    if (value) {\r\n      this._matrixSize = value; \r\n      return;\r\n    }\r\n\r\n    return this._matrixSize;\r\n  };\r\n\r\n  Model.prototype.items = function (value) {\r\n    if (value) {\r\n      this._items = value; \r\n      return;\r\n    }\r\n\r\n    return this._items;\r\n  };\r\n  \r\n  Model.prototype.targetItemPosition = function (value) {\r\n    if (value) {\r\n      this._targetItemPosition = value;\r\n      return;\r\n    } \r\n\r\n    return this._targetItemPosition;\r\n  };\r\n\r\n  Model.prototype._loadDefaults = function () {\r\n    this.matrixSize(GAME_DEFAULTS.MATRIX_SIZE);\r\n    this.items(GAME_DEFAULTS.ITEMS);\r\n    this.targetItemPosition(GAME_DEFAULTS.TARGET_ITEM_POSITION);\r\n    this._calculatePossibleMoves();\r\n  };\r\n\r\n  Model.prototype._calculatePossibleMoves = function () {\r\n    let targetItemPosition = this.targetItemPosition();\r\n\r\n    this._possibleMoves.left = [targetItemPosition[0], targetItemPosition[1] - 1];\r\n    this._possibleMoves.up = [targetItemPosition[0] - 1, targetItemPosition[1]];\r\n    this._possibleMoves.right = [targetItemPosition[0], targetItemPosition[1] + 1];\r\n    this._possibleMoves.down = [targetItemPosition[0] + 1, targetItemPosition[1]];\r\n  };\r\n\r\n  Model.prototype._getPossibleMoves = function () {\r\n    return this._possibleMoves;\r\n  };\r\n\r\n  Model.prototype.count = function (param) {\r\n    if (param === 'refresh') {\r\n      this._movesCount = 0;\r\n    } else if (param === 'increment') {\r\n      this._movesCount++;\r\n    } else {\r\n      return this._movesCount;\r\n    }\r\n  };\r\n\r\n  Model.prototype._swapItems = function (direction) {\r\n    let oldPosition = this.targetItemPosition();\r\n    let directionIndex = this._getPossibleMoves()[direction],\r\n      directionRow = directionIndex[0],\r\n      directionColumn = directionIndex[1],\r\n      items = this.items(),\r\n      directionItem = items[directionRow] ? items[directionRow][directionColumn] : undefined;\r\n\r\n    if (directionItem) {\r\n      let newPosition = items._2dSwap( oldPosition, [directionRow, directionColumn] );\r\n      this.targetItemPosition(newPosition);\r\n      this._calculatePossibleMoves();\r\n      \r\n      return [newPosition, oldPosition];\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n    \r\n  Model.prototype.makeMove = function (direction) {\r\n    let viewData = this._swapItems(direction);\r\n\r\n    if (viewData) {\r\n      this.count('increment');\r\n      Observer.callTrigger('itemsSwapped', viewData);\r\n    }\r\n  };\r\n\r\n  Model.prototype.shufflePuzzleDeck = function (directions) {\r\n    let self = this;\r\n\r\n    directions.forEach(directionString => {\r\n      self._swapItems(directionString);\r\n    });\r\n\r\n    self.count('refresh');\r\n  };\r\n\r\n  Model.prototype.init = function () {\r\n    this._loadDefaults();\r\n  };\r\n\r\n  window.game = window.game || {};\r\n  window.game.Model = Model;\r\n})(window);*/\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/model.js","import { _h } from './helpers.js';\r\n\r\nexport default class View {\r\n  constructor(observer) {\r\n    this._observer = observer; \r\n  }\r\n\r\n  _cacheTheDom() {\r\n    return {\r\n      root: _h.qs('#root'),\r\n      body: _h.qs('body'),\r\n      statistic: _h.qs('#statistic', this.body),\r\n      shuffleButton: _h.qs('#makeShuffle', this.body)\r\n    }; \r\n  }\r\n\r\n  _bindEvents() {\r\n    let pageElements = this._cacheTheDom();\r\n\r\n    pageElements.shuffleButton.addEventListener('click', event => {\r\n      this._observer.callTrigger('shuffleButtonPressed', ['hello'], null); \r\n    }, false);\r\n  }\r\n\r\n  init() {\r\n    this._bindEvents(); \r\n  }\r\n}\r\n\r\n/*(function (window) {\r\n  let pageElements = null;\r\n  \r\n  function View() {}\r\n\r\n  View.prototype.renderItems = function (items) {\r\n    let self = this;\r\n    let _fragment = _h.cdf(); \r\n    \r\n    for (let row = 0, rows = items.length; row < rows; row += 1) {\r\n      for (let column = 0, columns = items[row].length; column < columns; column += 1) {\r\n        if (items[row][column] != ' ') {\r\n          _fragment.appendChild( self._createItemNode(row, column, items[row][column]) );\r\n        }\r\n      }\r\n    }\r\n\r\n    pageElements.root.innerHTML = '';\r\n    pageElements.root.appendChild( _fragment );\r\n  };\r\n\r\n  View.prototype.renderStatistic = function (movesCount) {\r\n    let movesCountNode = _h.qs('.statistic__moves-value');\r\n    movesCountNode.textContent = movesCount;\r\n  };\r\n  \r\n  View.prototype._createItemNode = function (currentRow, currentColumn, innerValue) {\r\n    let itemNode = _h.ce('div');\r\n\r\n    itemNode.dataset.row = currentRow;\r\n    itemNode.dataset.column = currentColumn;\r\n    itemNode.dataset.value = innerValue;\r\n    itemNode.className = 'item';\r\n    \r\n    return itemNode; \r\n  };\r\n\r\n  View.prototype._cacheTheDom = function () {\r\n    pageElements = {\r\n          };\r\n  };\r\n\r\n  View.prototype._getDirectionFromKeyCode = function (keyCode) {\r\n    switch (keyCode) {\r\n      case KEY.LEFT:\r\n        return 'right';\r\n        break;\r\n\r\n      case KEY.UP:\r\n        return 'down';\r\n        break;\r\n\r\n      case KEY.RIGHT:\r\n        return 'left';\r\n        break;\r\n\r\n      case KEY.DOWN:\r\n        return 'up';\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  View.prototype.generateMovesArray = function (count) {\r\n    let self = this,\r\n      movesArray = [];\r\n\r\n    for (let i = 0; i < count; i += 1) {\r\n      movesArray.push( self._getDirectionFromKeyCode(generateKeyCode(KEY.LEFT, KEY.DOWN + 1)) );\r\n    }\r\n    \r\n    function generateKeyCode(min, max) {\r\n      return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n\r\n    return movesArray;\r\n  };\r\n\r\n  View.prototype.moveBlock = function (previousPosition, currentPosition) {\r\n    let elementToMove = _h.qs(`.item[data-row=\"${previousPosition[0]}\"][data-column=\"${previousPosition[1]}\"]`, pageElements.root);\r\n    \r\n    if (elementToMove != null) {\r\n      elementToMove.dataset.row = currentPosition[0];\r\n      elementToMove.dataset.column = currentPosition[1];\r\n    }\r\n  }\r\n\r\n  View.prototype._bindEvents = function () {\r\n    let self = this;\r\n\r\n    window.addEventListener('keydown', event => {\r\n      let keyCode = event.keyCode,\r\n        direction = self._getDirectionFromKeyCode( event.keyCode ); \r\n\r\n      if (keyCode >= 37 && keyCode <= 40) {\r\n        Observer.callTrigger('arrowKeyPressed', direction, null); \r\n      }\r\n    }, false);\r\n\r\n    pageElements.shuffleButton.addEventListener('click', event => {\r\n      let movesArray = self.generateMovesArray(400);\r\n\r\n      Observer.callTrigger('shuffleButtonPressed', [movesArray], null);\r\n    }, false);\r\n  }\r\n  \r\n  View.prototype.init = function () {\r\n    this._cacheTheDom();\r\n    this._bindEvents();\r\n  };\r\n  \r\n  window.game = window.game || {};\r\n  window.game.View = View;\r\n})(window);*/\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view.js","export const _h = {\r\n    qs: (selector, scope) => {\r\n      return (scope || document).querySelector(selector);\r\n    },\r\n    qsa: (selector, scope) => {\r\n      return (scope || document).querySelectorAll(selector); \r\n    },\r\n    cdf: () => {\r\n      return document.createDocumentFragment(); \r\n    }, \r\n    ce: nodeString => {\r\n      return document.createElement(nodeString); \r\n    } \r\n};\r\n\r\nexport const _2dSwap = (array, a, b) => {\r\n  array[a[0]][a[1]] = [\r\n    array[b[0]][b[1]], \r\n    array[b[0]][b[1]] = array[a[0]][a[1]]\r\n  ][0];\r\n\r\n  return b;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/helpers.js","export default class Observer {\r\n  constructor(owner, triggerName, handler) {\r\n    this._handlers = []; \r\n  }\r\n\r\n  attachHandler(owner, triggerName, handler) {\r\n    this._handlers.push({\r\n      owner: owner,\r\n      triggerName: triggerName,\r\n      handler: handler\r\n    })\r\n  }\r\n\r\n  callTrigger(triggerName, args, callback) {\r\n    for (let i = 0, end = this._handlers.length; i < end; i += 1) {\r\n      if (triggerName === this._handlers.triggerName) {\r\n        this._handlers[i].handler.apply(this._nandlers[i].owner, [].concat(args));\r\n      } \r\n    }\r\n\r\n    callback && callback();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/observer.js"],"sourceRoot":""}